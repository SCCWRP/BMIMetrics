Invasive_Percent(bugdata.prc)
Invasive_Percent(bugdata.agg)
Shannon_Diversity(bugdata.agg)
help(package="BMIMetrics")
install.packages("rlecuyer")
library("rlecuyer")
install.packages("pbdMPI")
sapply(list.files("r"), function(file)source(paste("r/", file, sep="")))
data(bugdata)
BMI <- BMI(bugdata)
sapply(list.files("r"), function(file)source(paste("r/", file, sep="")))
BMI <- BMI(bugdata)
library(stringr)
library(plyr)
library(reshape)
library(vegan)
BMI <- BMI(bugdata)
BMIagg <- aggregate(BMI)
BMIprc <- sample(BMIagg)
metrics <- BMIall(BMIprc)
traceback()
Acari_Percent(BMIprc)
Acari_PercentTaxa(BMIprc)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Acari.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Acari.r', echo=TRUE)
metrics <- BMIall(BMIprc)
sapply(list.files("r"), function(file)source(paste("r/", file, sep="")))
metrics <- BMIall(BMIprc)
sapply(list.files("r"), function(file)source(paste("r/", file, sep="")))
metrics <- BMIall(BMIprc)
traceback()
x <- BMIprc
Acari_Percent(x),
Acari_Percent(x)
Acari_PercentTaxa(x)[, 2]
Acari_Taxa(x)[, 2]
Acari_Taxa(x)
Burrower_Taxa
Burrower_Taxa(x)
Burrower_PercentTaxa(x)
Burrower_PercentTaxa(x)[, 2]
Burrower_Percent(x)
Amphipoda_Percent(x)
Acari_Taxa(x)[, 2]
Acari_PercentTaxa(x)[, 2]
Acari_Taxa.BMIprc
Acari_Taxa(x)
Acari_Taxa(BMIprc)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Acari.r', echo=TRUE)
Acari_Taxa(BMIprc)
metadata <- loadMetaData()
x$Subclass <- metadata$Subclass[match(x$FinalID, metadata$FinalID)]
ddply(x[x$BAResult >0 & x$SAFIT2 == "Distinct", ], "SampleID", function(df){
nrow(df[df$Subclass =="Acari"])
}
)
ddply(x[x$BAResult >0 & x$SAFIT2 == "Distinct", ], "SampleID", function(df){
nrow(df[df$Subclass =="Acari", ])/nrow(df)
})
View(x)
str(x)
Acari_PercentTaxa(BMIprc)
ddply(x[x$BAResult >0 & x$SAFIT2 == "Distinct", ], "SampleID", function(df){
nrow(df[df$Subclass =="Acari", ])/nrow(df)
})
fix(x)
View(x)
metrics <- BMIall(BMIprc)
Acari_Taxa(BMIprc)
source('~/.active-rstudio-document', echo=TRUE)
Acari_Taxa(BMIprc)
Acari_PercentTaxa(BMIprc)
Acari_Taxa(BMIprc)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Acari.r', echo=TRUE)
Acari_Taxa(BMIprc)
Acari_PercentTaxa(BMIprc)
source('~/.active-rstudio-document', echo=TRUE)
Acari_Taxa(BMIprc)
methods(Acari_Taxa)
Acari_Taxa.BMIprc(BMIprc)
Acari_Taxa.BMIprc <- function(x){
metadata <- loadMetaData()
x$Subclass <- metadata$Subclass[match(x$FinalID, metadata$FinalID)]
ddply(x[x$BAResult.subsample >0 & x$SAFIT2 == "Distinct", ], "SampleID", function(df){
print(nrow(df[df$Subclass =="Acari", ]))
})
}
Acari_Taxa(BMIprc)
source('~/.active-rstudio-document', echo=TRUE)
Acari_Taxa(BMIprc)
Acari_Taxa.BMIprc(BMIprc)
load("data/bugdata.rdata")
BMI <- BMI(bugdata)
sapply(list.files("r"), function(file)source(paste("r/", file, sep="")))
BMI <- BMI(bugdata)
library(stringr)
library(plyr)
library(reshape)
library(vegan)
sapply(list.files("r"), function(file)source(paste("r/", file, sep="")))
BMI <- BMI(bugdata)
BMIagg <- aggregate(BMI)
BMIprc <- sample(BMIagg)
metrics <- BMIall(BMIprc)
Acari_PercentTaxa(BMIprc)
Acari_Taxa(BMIprc)
source('~/.active-rstudio-document', echo=TRUE)
Acari_PercentTaxa(BMIprc)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
Acari_PercentTaxa(BMIprc)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Acari.r', echo=TRUE)
Acari_Taxa(BMIprc)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Acari.r', echo=TRUE)
Acari_PercentTaxa(BMIprc)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Acari.r', echo=TRUE)
Acari_Taxa(BMIprc)
BMI[BMI$BAResult.subsample>0,]
Acari_PercentTaxa(BMIagg)
str(BMIagg)
source('~/.active-rstudio-document', echo=TRUE)
Acari_PercentTaxa(BMIprc)
Acari_Taxa(BMIprc)
metrics <- BMIall(BMIprc)
traceback()
x <- BMIprc
Amphipoda_Percent(x)[, 2],
Amphipoda_Percent(x)
Burrower_Percent(x)
Burrower_PercentTaxa(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Burrower.r', echo=TRUE)
Burrower_PercentTaxa(x)
Burrower_Percent(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Burrower.r', echo=TRUE)
Burrower_Percent(x)
Burrower_PercentTaxa
Burrower_PercentTaxa(x)
Burrower_Taxa(x)
CFCG_Percent(x)
CFCG_PercentTaxa(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/CGCG.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/CGCG.r', echo=TRUE)
CFCG_Taxa.BMIagg <- function(x){
metadata <- loadMetaData()
x <- merge(x, metadata[, c("FinalID", "LifeStageCode", "FunctionalFeedingGroup")])
ddply(x[x$BAResult >0 & x$distinct_SAFIT2 == "Distinct",, "SampleID", function(df){
nrow(df[which(df$FunctionalFeedingGroup %in% c("CF", "CG")), ])
})
}
CFCG_Taxa.BMIprc <- function(x){
metadata <- loadMetaData()
x <- merge(x, metadata[, c("FinalID", "LifeStageCode", "FunctionalFeedingGroup")])
ddply(x[x$BAResult.subsample >0 & x$distinct_SAFIT2 == "Distinct",], "SampleID", function(df){
nrow(df[which(df$FunctionalFeedingGroup %in% c("CF", "CG")), ])
})
}
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
CFCG_Percent(x)
CFCG_PercentTaxa(x)
CFCG_Taxa(x)
Chironomidae_PercentTaxa(x)
Chironomidae_Taxa(x)
Chironominae_Percent(x)
Chironominae_PercentOfMidges(x)
Climber_Percent(x)
Climber_PercentTaxa(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Climber.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Climber.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Climber.r', echo=TRUE)
Climber_PercentTaxa(x)
Climber_Taxa(x)[, 2]
Clinger_Percent(x)
Clinger_PercentTaxa(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Clinger.r', echo=TRUE)
Clinger_PercentTaxa(x)
Clinger_Taxa(x)
Coleoptera_Percent(x)
Coleoptera_PercentTaxa(x, level="SAFIT1")
Coleoptera_PercentTaxa(x, level="SAFIT2")
Coleoptera_Taxa(x, level="SAFIT1")
Crustacea_Percent(x)
Diptera_Percent(x)
Diptera_PercentTaxa(x, level="SAFIT1")
Diptera_Taxa(x, level="SAFIT1")
EPT_Percent(x)
EPT_PercentTaxa(x, level="SAFIT1")
metrics <- BMIall(BMIprc)
EPT_PercentTaxa(x, level="SAFIT1")
EPT_Taxa(x, level="SAFIT1")
Ephemeroptera_Percent(x)
Ephemeroptera_PercentTaxa(x, level="SAFIT1")
Ephemeroptera_Taxa(x, level="SAFIT1")
Intolerant_Percent(x)
Intolerant_Taxa(x)
Invasive_PercentTaxa(x)
Invasive_Taxa(x)
Noninsect_Percent(x)
Noninsect_PercentTaxa(x, level="SAFIT1")
Noninsect_Taxa(x, level="SAFIT1")
Orthocladiinae_PercentOfMidges(x)
Ostracoda_Percent(x)
Plecoptera_Percent(x)
Plecoptera_PercentTaxa(x, level="SAFIT1")
Plecoptera_Taxa(x, level="SAFIT1")
Predator_Percent(x)
Predator_Percent(x)
Predator_PercentTaxa(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Predator.r', echo=TRUE)
Predator_PercentTaxa(x)
Predator_Taxa(x)
Scraper_Percent(x)
Scraper_PercentTaxa(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Scraper.r', echo=TRUE)
Scraper_PercentTaxa(x)
source('~/.active-rstudio-document', echo=TRUE)
Scraper_PercentTaxa(x)
Scraper_Taxa(x)
Shredder_Percent(x)
Shredder_PercentTaxa(x)
Shredder_PercentTaxa(x)
source('~/.active-rstudio-document', echo=TRUE)
Shredder_PercentTaxa(x)
Shredder_Taxa(x)
Shannon_Diversity(x, level="SAFIT1")
Simpson_Diversity(x, level="SAFIT1")
Swimmer_Percent(x)
Swimmer_PercentTaxa(x)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Swimmer.r', echo=TRUE)
Swimmer_PercentTaxa(x)
Swimmer_Taxa(x)
Tanypodinae_Percent(x)
Tanypodinae_PercentOfMidges(x)
ToleranceValue(x)
Tolerant_Percent(x)
Tolerant_PercentTaxa(x)
Tolerant_Taxa(x)
Total_Taxa(x)
Trichoptera_Percent(x)[, 2]
Trichoptera_PercentTaxa(x, level="SAFIT1")
Trichoptera_Taxa(x, level="SAFIT1")
metrics <- BMIall(BMIprc)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/BMIall.r', echo=TRUE)
metrics <- BMIall(BMIprc)
View(metrics)
View(metrics)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Tolerance.r', echo=TRUE)
metrics <- BMIall(BMIprc)
View(metrics)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Tolerance.r', echo=TRUE)
metrics <- BMIall(BMIprc)
View(metrics)
system.time(BMIall(BMIprc))
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/loadMetaData.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/BMIall.r', echo=TRUE)
system.time(BMIall(BMIprc))
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/loadMetaData.r', echo=TRUE)
system.time(BMIall(BMIprc))
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/loadMetaData.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/loadMetaData.r', echo=TRUE)
system.time(BMIall(BMIprc))
?exists
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/loadMetaData.r', echo=TRUE)
system.time(BMIall(BMIprc))
traceback()
loadMetaData()
traceback()
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/loadMetaData.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/BMIall.r', echo=TRUE)
system.time(BMIall(BMIprc))
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/loadMetaData.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/BMIall.r', echo=TRUE)
View(metrics)
library(testthat)
test_dir("inst/tests/")
test_dir("inst/tests/")
traceback()
test_dir("inst/tests/")
test_dir("inst/tests/")
test_dir("inst/tests/")
metrics2 <- BMIall(BMIagg)
x <- BMIagg
Acari_Percent(x),
Acari_Percent(x)
Acari_PercentTaxa(x)[, 2]
Acari_Taxa(x)[, 2]
Amphipoda_Percent(x)[, 2]
Burrower_Percent(x)[, 2]
Burrower_PercentTaxa(x)[, 2]
Burrower_Taxa(x)[, 2]
CFCG_Percent(x)[, 2]
CFCG_PercentTaxa(x)[, 2]
CFCG_Taxa(x)[, 2]
Chironomidae_PercentTaxa(x)[, 2]
Chironomidae_Taxa(x)[, 2]
Chironominae_Percent(x)[, 2]
Chironominae_PercentOfMidges(x)[, 2]
Climber_Percent(x)[, 2]
Climber_PercentTaxa(x)[, 2]
Climber_Taxa(x)[, 2]
Clinger_Percent(x)[, 2]
Clinger_PercentTaxa(x)[, 2]
Clinger_Taxa(x)[, 2]
Coleoptera_Percent(x)[, 2]
Coleoptera_PercentTaxa(x, level="SAFIT1")[, 2]
Coleoptera_PercentTaxa(x, level="SAFIT2")[, 2]
Coleoptera_Taxa(x, level="SAFIT1")[, 2]
Coleoptera_Taxa(x, level="SAFIT2")[, 2]
Crustacea_Percent(x)[, 2]
Diptera_Percent(x)[, 2]
Diptera_PercentTaxa(x, level="SAFIT1")[, 2]
Diptera_PercentTaxa(x, level="SAFIT2")[, 2]
Diptera_Taxa(x, level="SAFIT1")[, 2]
Diptera_Taxa(x, level="SAFIT2")[, 2]
EPT_Percent(x)[, 2]
EPT_PercentTaxa(x, level="SAFIT1")[, 2]
EPT_PercentTaxa(x, level="SAFIT2")[, 2]
EPT_Taxa(x, level="SAFIT1")[, 2]
EPT_Taxa(x, level="SAFIT2")[, 2]
Ephemeroptera_Percent(x)[, 2]
Ephemeroptera_PercentTaxa(x, level="SAFIT1")[, 2]
Ephemeroptera_PercentTaxa(x, level="SAFIT2")[, 2]
Ephemeroptera_Taxa(x, level="SAFIT1")[, 2]
Ephemeroptera_Taxa(x, level="SAFIT2")[, 2]
Intolerant_Percent(x)[, 2]
Intolerant_PercentTaxa(x)[, 2]
Intolerant_Taxa(x)[, 2]
Invasive_Percent(x)[, 2]
Invasive_PercentTaxa(x)[, 2]
Invasive_Taxa(x)[, 2]
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Invasive.r', echo=TRUE)
Invasive_Percent(x)[, 2]
Invasive_PercentTaxa(x)[, 2]
Invasive_Taxa(x)[, 2]
Noninsect_Percent(x)[, 2]
Noninsect_PercentTaxa(x, level="SAFIT1")[, 2]
Noninsect_PercentTaxa(x, level="SAFIT2")[, 2]
Noninsect_Taxa(x, level="SAFIT1")[, 2]
Noninsect_Taxa(x, level="SAFIT2")[, 2]
Orthocladiinae_PercentOfMidges(x)[, 2]
Ostracoda_Percent(x)[, 2]
Plecoptera_Percent(x)[, 2]
Plecoptera_PercentTaxa(x, level="SAFIT1")[, 2]
Plecoptera_PercentTaxa(x, level="SAFIT2")[, 2]
Plecoptera_Taxa(x, level="SAFIT1")[, 2]
Plecoptera_Taxa(x, level="SAFIT2")[, 2]
Predator_Percent(x)[, 2]
Predator_PercentTaxa(x)[, 2]
Predator_Taxa(x)[, 2]
Scraper_Percent(x)[, 2]
Scraper_PercentTaxa(x)[, 2]
Scraper_Taxa(x)[, 2]
Shredder_Percent(x)[, 2]
Shredder_PercentTaxa(x)[, 2]
Shredder_Taxa(x)[, 2]
Shannon_Diversity(x, level="SAFIT1")[, 2]
Shannon_Diversity(x, level="SAFIT2")[, 2]
Simpson_Diversity(x, level="SAFIT1")[, 2]
Simpson_Diversity(x, level="SAFIT2")[, 2]
Swimmer_Percent(x)[, 2]
Swimmer_PercentTaxa(x)[, 2]
Swimmer_Taxa(x)[, 2]
Tanypodinae_Percent(x)[, 2]
Tanypodinae_PercentOfMidges(x)[, 2]
ToleranceValue(x)[, 2]
Tolerant_Percent(x)[, 2]
Tolerant_PercentTaxa(x)[, 2]
Tolerant_Taxa(x)[, 2]
Total_Taxa(x)[, 2]
Trichoptera_Percent(x)[, 2]
Trichoptera_PercentTaxa(x, level="SAFIT1")[, 2]
Trichoptera_PercentTaxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT1")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
Trichoptera_Taxa(x, level="SAFIT2")[, 2]
source('P:/PartTimers/MarkEngeln/BMI_Metrics/R/Chironomidae.r', echo=TRUE)
Chironomidae_Taxa(x)[, 2]
test_dir("inst/tests/")
test_dir("inst/tests/")
Predator_Percent(BMIprc)
test_dir("inst/tests/")
test_dir("inst/tests/")
nrow(Acari_Percent(x)[, 2])>0
nrow(Acari_Percent(x)[, 2])
nrow(Acari_Percent(x))>0
test_dir("inst/tests/")
rm(list=ls())
source('~/.active-rstudio-document', echo=TRUE)
rm(list=ls())
source('~/.active-rstudio-document', echo=TRUE)
library(roxygen)
library(roxygen2)
roxygenise("../BMI_Metrics/")
list.files("r")
writeClipboard(list.files("r"))
roxygenise("../BMI_Metrics/")
roxygenise("../BMI_Metrics/")
roxygenise("../BMI_Metrics/")
rm(list=ls())
library(devtools)
build("../BMI_Metrics/")
install.packages("BMIMetrics_0.1.tar.gz", repos=NULL, type="source")
library(BMIMetrics)
?BMIMetrics
data(bugdata)
bugdata <- BMI(bugdata)
bugdata.agg <- aggregate(bugdata)
bugdata.prc <- sample(bugdata.agg)
metrics <- BMIall(bugdata.prc)
roxygenise("../BMI_Metrics/")
build("../BMI_Metrics/", path=".")
install.packages("BMIMetrics_0.1.tar.gz", repos=NULL, type="source")
library(BMIMetrics)
?BMIMetrics
data(bugdata)
bugdata <- BMI(bugdata)
bugdata.agg <- aggregate(bugdata)
bugdata.prc <- sample(bugdata.agg)
metrics <- BMIall(bugdata.prc)
View(metrics)
help(package="BMImetrics")
help(package="BMIMetrics")
library(roxygen2)
roxygenize("../BMI_Metrics/")
library(devtools)
build("../BMI_Metrics/", path=".")
install.packages("BMIMetrics_0.1.tar.gz", repos=NULL, type="source")
library(BMIMetrics)
?BMIMetrics
data(bugdata)
bugdata <- BMI(bugdata)
bugdata.agg <- aggregate(bugdata)
bugdata.prc <- sample(bugdata.agg)
metrics <- BMIall(bugdata.prc)
View(metrics)
help(package="BMImetrics")
M
help(package="BMIMetrics")
?party
library(party)
?party
?cforest
library(ipred)
install.packages("ipred")
set.seed(290875)
### honest (i.e., out-of-bag) cross-classification of
### true vs. predicted classes
table(mammoexp$ME, predict(cforest(ME ~ ., data = mammoexp,
control = cforest_unbiased(ntree = 50)),
OOB = TRUE))
### fit forest to censored response
if (require("ipred")) {
data("GBSG2", package = "ipred")
bst <- cforest(Surv(time, cens) ~ ., data = GBSG2,
control = cforest_unbiased(ntree = 50))
### estimate conditional Kaplan-Meier curves
treeresponse(bst, newdata = GBSG2[1:2,], OOB = TRUE)
### if you can't resist to look at individual trees ...
party:::prettytree(bst@ensemble[[1]], names(bst@data@get("input")))
}
party:::prettytree(bst@ensemble[[1]], names(bst@data@get("input")))
id_trafo
?id_trafo
?ff_trafo
iris.cf <- cforest(Species ~ ., data = iris,
control = cforest_unbiased(mtry = 2))
iris.mds <- cmdscale(1 - proximity(iris.cf), eig = TRUE)
op <- par(pty="s")
pairs(cbind(iris[,1:4], iris.mds$points), cex = 0.6, gap = 0,
col = c("red", "green", "blue")[as.numeric(iris$Species)],
main = "Iris Data: Predictors and MDS of Proximity Based on cforest")
par(op)
?cforest_unbiased
?system.file
(system.file("metadata.rdata", package="BMIMetrics")
)
build("../BMI_Metrics/", path=".")
library(devtools)
build("../BMI_Metrics/", path=".")
install.packages("BMIMetrics_0.1.tar.gz", repos=NULL, type="source")
library(BMIMetrics)
?BMIMetrics
data(bugdata)
bugdata <- BMI(bugdata)
bugdata.agg <- aggregate(bugdata)
bugdata.prc <- sample(bugdata.agg)
metrics <- BMIall(bugdata.prc)
View(metrics)
BMI
load("P:/PartTimers/MarkEngeln/BMI_Metrics/inst/metadata.rdata")
View(metadata)
?select
metadata[metadata$FinalID=="Pacifastacus nigrescens",]
metadata[metadata$FinalID=="Pacifastacus nigrescens", "Invasive"]
metadata[metadata$FinalID=="Pacifastacus nigrescens", "Invasive"] <- 0
save(metadata, file="inst/metadata.rdata")
library(devtools)
build("../BMI_Metrics/", path=".")
install.packages("BMIMetrics_0.1.tar.gz", repos=NULL, type="source")
library(BMIMetrics)
?BMIMetrics
?BMIMetrics
