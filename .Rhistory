cor(validation$Number.Acari.Taxa, validation$Acari_Taxa)^2
cor(validation$Number.Chironomidae.Taxa, validation$Chironomidae_Taxa)^2
cor(validation$Number.Acari.Taxa, validation$Acari_Taxa)^2
cor(validation$Number.CF...CG.Taxa, validation$CFCG_Taxa)^2
cor(validation$Number.Chironomidae.Taxa, validation$Chironomidae_Taxa)^2
cor(validation$Number.Coleoptera.Taxa, validation$Coleoptera_Taxa)^2
cor(validation$Number.Diptera.Taxa, validation$Diptera_Taxa)^2
cor(validation$Number.Ephemeroptera.Taxa, validation$Ephemeroptera_Taxa)^2
cor(validation$Number.Ephemeroptera.Taxa, validation$Ephemeroptera_Taxa)^2
cor(validation$Number.Intolerant.Taxa, validation$Intolerant_Taxa)^2
cor(validation$Number.Non.insect.Taxa, validation$Noninsect_Taxa)^2
cor(validation$Number.Oligochaeta.Taxa, validation$Oligochaeta_Taxa)^2
cor(validation$Number.Plecoptera.Taxa, validation$Plecoptera_Taxa)^2
cor(validation$Number.Predator.Taxa, validation$Predator_Taxa)^2
cor(validation$Number.ShredderTaxa, validation$Shredder_Taxa)^2
cor(validation$Number.Trichoptera.Taxa, validation$Trichoptera_Taxa)^2
cor(validation$Percent.Acari, validation$Acari_Percent)^2
cor(validation$Percent.Acari.Taxa, validation$Acari_PercentTaxaTaxa)^2
cor(validation$Percent.Amphipoda, validation$Amphipoda_Percent)^2
cor(validation$Percent.Burrowers, validation$Burrower_Percent)^2
cor(validation$Percent.CF...CG.Individuals, validation$CFCG_Percent)^2
cor(validation$Percent.CF...CG.Taxa, validation$CFCG_PercentTaxa)^2
cor(validation$Percent.Chironomidae, validation$Chironomidae_Percent)^2
cor(validation$Percent.Chironomidae.Taxa, validation$Chironomidae_PercentTaxa)^2
cor(validation$Percent.Chironominae.Taxa, validation$Chironominae_Taxa)^2
cor(validation$Percent.Clinger.Taxa, validation$Clinger_Taxa)^2
cor(validation$Percent.Crustacea, validation$Crustacea_Percent)^2
cor(validation$Percent.Diptera, validation$Diptera_Percent)^2
cor(validation$Percent.Diptera.Taxa, validation$Diptera_PercentTaxa)^2
cor(validation$Percent.Dominant.3.Taxa, validation$Dominant_Percent)^2
cor(validation$Percent.Ephemeroptera, validation$Ephemeroptera_Percent)^2
cor(validation$Percent.Ephemeroptera.Taxa, validation$Ephemeroptera_PercentTaxa)^2
cor(validation$Percent.EPT.Taxa, validation$EPT_PercentTaxa)^2
cor(validation$Percent.Intolerant, validation$Intolerant_Percent)^2
cor(validation$Percent.Intolerant.Taxa..0.2., validation$Intolerant_Percent)^2
cor(validation$Percent.Intolerant, validation$Invasive_Percent)^2
cor(validation$Percent.Non.Insecta.Taxa, validation$Noninsect_Taxa)^2
cor(validation$Percent.Oligochaeta, validation$Oligochaeta_Percent)^2
cor(validation$Percent.Oligochaeta.Taxa, validation$Oligochaeta_Taxa)^2
cor(validation$Percent.Orthocladiinae.Taxa, validation$Orthocladiinae_Taxa)^2
cor(validation$Percent.Plecoptera, validation$Plecoptera_Percent)^2
cor(validation$Percent.Plecoptera.Taxa, validation$Plecoptera_PercentTaxa)^2
cor(validation$Percent.Predators, validation$Predator_Percent)^2
cor(validation$Percent.Predator.Taxa, validation$Predator_PercentTaxa)^2
cor(validation$Percent.Scrapers, validation$Scraper_Percent)^2
cor(validation$Percent.Scraper.Taxa, validation$Scraper_PercentTaxa)^2
cor(validation$Percent.Shredders, validation$Shredder_Percent)^2
cor(validation$Percent.Shredder.Taxa, validation$Shredder_PercentTaxa)^2
cor(validation$Percent.Tolerant, validation$Tolerant_Percent)^2
cor(validation$Percent.Tolerant.Taxa..8.10., validation$Tolerant_Taxa)^2
cor(validation$Percent.Trichoptera, validation$Trichoptera_Percent)^2
cor(validation$Percent.Trichoptera.Taxa, validation$Trichoptera_PercentTaxa)^2
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
cor(validation$Simpsons.Index, validation$Simpson_Diversity)^2
cor(validation$Tolerance.Value, validation$Tolerance_Value)^2
cor(validation$Taxonomic.Richness, validation$Taxonomic_Richness)^2
cor(validation$Percent.Intolerant, validation$Invasive_Percent)^2
cor(validation$Percent.Intolerant, validation$Intolerant_Percent)^2
69-16
validation$Number.Diptera.Taxa - validation$Diptera_Taxa
validation$Number.Diptera.Taxa
validation$Diptera_Taxa
validation$SampleID[1]
viewData(subset(data.agg, SampleID==validation$Sample[1]))
validation$Percent.Chironominae.Taxa- validation$Chironominae_Taxa
validation$Percent.Chironominae.Taxa
validation$Chironominae_Taxa
validation$Percent.Chironominae.Taxa- validation$Chironominae_PercentTaxa
cor(validation$Percent.Chironominae.Taxa, validation$Chironominae_PercentTaxa)^2
validation$Percent.Burrowers
validation$Burrower_Percent
cor(validation$Percent.Clinger.Taxa, validation$Clinger_PercentTaxa)^2
validation$Dominant_Percent
validation$Percent.Dominant.3.Taxa
cor(validation$Percent.Intolerant.Taxa..0.2., validation$Intolerant_Percent)^2
cor(validation$Percent.Intolerant, validation$Intolerant_Percent)^2
cor(validation$Percent.Intolerant.Taxa..0.2., validation$Intolerant_PercentTaxa)^2
cor(validation$Percent.Non.Insecta.Taxa, validation$Noninsect_PercentTaxa)^2
cor(validation$Percent.Orthocladiinae.Taxa, validation$Orthocladiinae_PercentTaxa)^2
cor(validation$Percent.Tolerant, validation$Tolerant_Percent)^2
cor(validation$Percent.Tolerant.Taxa..8.10., validation$Tolerant_PercentTaxa)^2
?order
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall2(data.agg)
print(proc.time()-s)
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, valid)
cor(validation$Number.Diptera.Taxa, validation$Diptera_Taxa)^2
cor(validation$Percent.Diptera, validation$Diptera_Percent)^2
cor(validation$Percent.Dominant.3.Taxa, validation$Dominant_Percent)^2
cor(validation$Percent.Ephemeroptera.Taxa, validation$Ephemeroptera_PercentTaxa)^2
validation[is.na(validation)] <- 0
cor(validation$Percent.Ephemeroptera.Taxa, validation$Ephemeroptera_PercentTaxa)^2
cor(validation$Percent.EPT.Taxa, validation$EPT_PercentTaxa)^2
cor(validation$Percent.Trichoptera.Taxa, validation$Trichoptera_PercentTaxa)^2
69-16
ddply(data.agg, "SampleID", order)
ddply(data.agg, "SampleID", function(df)order(df$BAResult))
dlply(data.agg, "SampleID", function(df)order(df$BAResult))
subset(data.agg, SampleID==validation$SampleID[1])$BAResult
sum(subset(data.agg, SampleID==validation$SampleID[1])$BAResult)
(31+73+152)/487
subset(validation, SampleID==validation$SampleID[1], select=Dominant_Percent)
subset(validation, SampleID==validation$SampleID[1], select=Dominant.3.Taxa)
subset(validation, SampleID==validation$SampleID[1], select=Percent.Dominant.3.Taxa)
order(subset(data.agg, SampleID==validation$SampleID[1])$BAResult)
sort(subset(data.agg, SampleID==validation$SampleID[1])$BAResult)
tail(sort(subset(data.agg, SampleID==validation$SampleID[1])$BAResult))
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall2(data.agg)
print(proc.time()-s)
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, valid)
cor(validation$Percent.Dominant.3.Taxa, validation$Dominant_Percent)^2
validation$Percent.Burrowers
validation$Percent.Acari
validation$Burrower_Percent
11/487
data.agg <- aggregate(data.BMI)
str(data.agg)
results <- BMIall2(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, valid)
source('~/.active-rstudio-document', echo=TRUE)
validation[is.na(validation)] <- 0
cor(validation$Number.Acari.Taxa, validation$Acari_Taxa)^2
cor(validation$Number.CF...CG.Taxa, validation$CFCG_Taxa)^2
cor(validation$Number.Chironomidae.Taxa, validation$Chironomidae_Taxa)^2
cor(validation$Number.Coleoptera.Taxa, validation$Coleoptera_Taxa)^2
cor(validation$Number.Diptera.Taxa, validation$Diptera_Taxa)^2
cor(validation$Number.Ephemeroptera.Taxa, validation$Ephemeroptera_Taxa)^2
cor(validation$Number.Ephemeroptera.Taxa, validation$Ephemeroptera_Taxa)^2
cor(validation$Number.Intolerant.Taxa, validation$Intolerant_Taxa)^2
cor(validation$Number.Non.insect.Taxa, validation$Noninsect_Taxa)^2
cor(validation$Number.Oligochaeta.Taxa, validation$Oligochaeta_Taxa)^2
cor(validation$Number.Plecoptera.Taxa, validation$Plecoptera_Taxa)^2
cor(validation$Number.Predator.Taxa, validation$Predator_Taxa)^2
cor(validation$Number.ShredderTaxa, validation$Shredder_Taxa)^2
cor(validation$Number.Trichoptera.Taxa, validation$Trichoptera_Taxa)^2
cor(validation$Percent.Acari, validation$Acari_Percent)^2
cor(validation$Percent.Acari.Taxa, validation$Acari_PercentTaxaTaxa)^2
cor(validation$Percent.Amphipoda, validation$Amphipoda_Percent)^2
cor(validation$Percent.Burrowers, validation$Burrower_Percent)^2
cor(validation$Percent.CF...CG.Individuals, validation$CFCG_Percent)^2
cor(validation$Percent.CF...CG.Taxa, validation$CFCG_PercentTaxa)^2
cor(validation$Percent.Chironomidae, validation$Chironomidae_Percent)^2
cor(validation$Percent.Chironomidae.Taxa, validation$Chironomidae_PercentTaxa)^2
cor(validation$Percent.Chironominae.Taxa, validation$Chironominae_PercentTaxa)^2
cor(validation$Percent.Clinger.Taxa, validation$Clinger_PercentTaxa)^2
cor(validation$Percent.Crustacea, validation$Crustacea_Percent)^2
cor(validation$Percent.Diptera, validation$Diptera_Percent)^2
cor(validation$Percent.Acari.Taxa, validation$Acari_PercentTaxa)^2
cor(validation$Percent.Diptera.Taxa, validation$Diptera_PercentTaxa)^2
cor(validation$Percent.Dominant.3.Taxa, validation$Dominant_Percent)^2
cor(validation$Percent.Ephemeroptera, validation$Ephemeroptera_Percent)^2
cor(validation$Percent.Ephemeroptera.Taxa, validation$Ephemeroptera_PercentTaxa)^2
cor(validation$Percent.EPT.Taxa, validation$EPT_PercentTaxa)^2
cor(validation$Percent.Intolerant, validation$Intolerant_Percent)^2
cor(validation$Percent.Intolerant.Taxa..0.2., validation$Intolerant_PercentTaxa)^2
cor(validation$Percent.Intolerant, validation$Intolerant_Percent)^2
cor(validation$Percent.Non.Insecta.Taxa, validation$Noninsect_PercentTaxa)^2
cor(validation$Percent.Oligochaeta, validation$Oligochaeta_Percent)^2
cor(validation$Percent.Oligochaeta.Taxa, validation$Oligochaeta_Taxa)^2
cor(validation$Percent.Orthocladiinae.Taxa, validation$Orthocladiinae_PercentTaxa)^2
cor(validation$Percent.Plecoptera, validation$Plecoptera_Percent)^2
cor(validation$Percent.Plecoptera.Taxa, validation$Plecoptera_PercentTaxa)^2
cor(validation$Percent.Predators, validation$Predator_Percent)^2
cor(validation$Percent.Predator.Taxa, validation$Predator_PercentTaxa)^2
cor(validation$Percent.Scrapers, validation$Scraper_Percent)^2
cor(validation$Percent.Scraper.Taxa, validation$Scraper_PercentTaxa)^2
cor(validation$Percent.Shredders, validation$Shredder_Percent)^2
cor(validation$Percent.Shredder.Taxa, validation$Shredder_PercentTaxa)^2
cor(validation$Percent.Tolerant, validation$Tolerant_Percent)^2
cor(validation$Percent.Tolerant.Taxa..8.10., validation$Tolerant_PercentTaxa)^2
cor(validation$Percent.Trichoptera, validation$Trichoptera_Percent)^2
cor(validation$Percent.Trichoptera.Taxa, validation$Trichoptera_PercentTaxa)^2
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
cor(validation$Simpsons.Index, validation$Simpson_Diversity)^2
cor(validation$Tolerance.Value, validation$Tolerance_Value)^2
cor(validation$Taxonomic.Richness, validation$Taxonomic_Richness)^2
?stop
?callNextMethod
?join
subset(data.agg[[1]], BAResult > 3)
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall2(data.agg)
print(proc.time()-s)
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, valid)
source('~/.active-rstudio-document', echo=TRUE)
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall2(data.agg)
print(proc.time()-s)
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, valid)
results <- BMIall(data.agg)
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, valid)
source('~/.active-rstudio-document', echo=TRUE)
sample(data.BMI)
viewData(sample(data.BMI))
test <- sample(data.BMI)
test$BAResult - test$originalBAResult
?sapply
?numeric
numeric(1)
numeric(2)
source('~/.active-rstudio-document', echo=TRUE)
BMiall3(data.agg)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
traceback()
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
source('~/.active-rstudio-document', echo=TRUE)
BMIall3(data.agg)
?call_fun
?call_func
###SAFIT1 QC
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.xls")
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, valid)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
validation <- merge(results, valid)
source('~/.active-rstudio-document', echo=TRUE)
viewData(results)
viewData(safit1valid)
safit1valid$Number.Chironomidae.Taxa
cor(validation$Number.Chironomidae.Taxa, validation$Chironomidae_Taxa)^2
validation$Chironomidae_Taxa
validation$Number.Chironomidae.Taxa
validation <- merge(results, safit1valid)
source('~/.active-rstudio-document', echo=TRUE)
cor(validation$Percent.CF...CG.Individuals, validation$CFCG_Percent)^2
cor(validation$Percent.CF...CG.Taxa, validation$CFCG_PercentTaxa)^2
cor(validation$Percent.Scraper.Taxa, validation$Scraper_PercentTaxa)^2
cor(validation$Percent.Shredders, validation$Shredder_Percent)^2
alidation$Percent.Predator.Taxa - validation$Predator_PercentTaxa
validation$Percent.Predator.Taxa - validation$Predator_PercentTaxa
validation$Percent.Predator.Taxa - validation$Predator_PercentTaxa*100
which(abs(validation$Percent.Predator.Taxa - validation$Predator_PercentTaxa*100) > 5
)
validation$SampleID[204]
viewData(results)
viewData(subset(data.agg, SampleID == validation$SampleID[204]))
viewData(subset(data.agg, "SampleID" == validation$SampleID[204]))
viewData(data.agg[data.agg$SampleID == validation$SampleID[204],]))
viewData(data.agg[data.agg$SampleID == validation$SampleID[204],])
viewData(data.agg[[1]][data.agg$SampleID == validation$SampleID[204],])
viewData(data.agg[[1]])
viewData(subset(data.agg[[1]], SampleID == validation$SampleID[204])
)
results$Predator_PercentTaxa[results$SampleID == validation$SampleID[204],]
results$Predator_PercentTaxa[results$SampleID == validation$SampleID[204]]
validation$Percent.Predator.Taxa[validation$SampleID == validation$SampleID[204]]
15/28
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
source('~/.active-rstudio-document', echo=TRUE)
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
source('~/.active-rstudio-document', echo=TRUE)
validation$Simpsons.Index - validation$Simpson_Diversity
validation$Shannon_Diversity - validation$Shannon.Diversity
validation$Percent.Dominant.3.Taxa - validation$Dominant_Percent
validation$Percent.Dominant.3.Taxa - validation$Dominant_Percent*100
viewData(subset(data.agg[[1]], SampleID = validation$SampleID[1]))
viewData(subset(data.agg[[1]], SampleID == validation$SampleID[1]))
sum(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult)
sort(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult)
(23+ 73 + 152)/487
validation$Percent.Dominant.3.Taxa[1]
(32+ 73 + 152)/487
validation$Shannon.Diversity[1]
validation$Shannon_Diversity[1]
validation$Simpson_Diversity[1]
validation$Simpson.Diversity[1]
validation$Simpsons.Index[1]
?aggregate
aggregate(data.agg[, c("BAResult", "SAFIT1"]), by="SAFIT1")
aggregate(data.agg[, c("BAResult", "SAFIT1")], by="SAFIT1")
aggregate(data.agg[, c("BAResult", "SAFIT1"),], by="SAFIT1")
aggregate(data.agg[[1]][, c("BAResult", "SAFIT1")], by="SAFIT1")
aggregate(data.agg[[1]][, c("BAResult", "SAFIT1")], by="SAFIT1", sum)
aggregate(data.agg[[1]][, c("BAResult", "SAFIT1")], by=list(data.agg$SAFIT1), sum)
tapply(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult, subset(data.agg[[1]], SampleID == validation$SampleID[1])$SAFIT1, sum)
subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult
tapply(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult, droplevels(subset(data.agg[[1]], SampleID == validation$SampleID[1]))$SAFIT1, sum)
library(vegan)
diversity(tapply(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult, droplevels(subset(data.agg[[1]], SampleID == validation$SampleID[1]))$SAFIT1, sum))
diversity(tapply(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult, droplevels(subset(data.agg[[1]], SampleID == validation$SampleID[1]))$SAFIT1, sum), index="simpson")
sum(tail(sort(tapply(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult, droplevels(subset(data.agg[[1]], SampleID == validation$SampleID[1]))$SAFIT1, sum)), 3))
308/423
validation$Percent.Dominant.3.Taxa[1]
sum(tail(sort(tapply(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult, droplevels(subset(data.agg[[1]], SampleID == validation$SampleID[1]))$SAFIT1, sum)), 3))/sum(sort(tapply(subset(data.agg[[1]], SampleID == validation$SampleID[1])$BAResult, droplevels(subset(data.agg[[1]], SampleID == validation$SampleID[1]))$SAFIT1, sum)))
###SAFIT1 QC
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
cor(validation$Simpsons.Index, validation$Simpson_Diversity)^2
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
cor(validation$Percent.Dominant.3.Taxa, validation$Dominant_Percent)^2
results <- BMIall(data.agg)
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
cor(validation$Simpsons.Index, validation$Simpson_Diversity)^2
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
cor(validation$Percent.Dominant.3.Taxa, validation$Dominant_Percent)^2
validation$Simpson_Diversity
validation$Shannon.Diversity
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
validation$Shannon_Diversity
?expand.grid
install.packages("LaF")
install.packages("ffbase")
library(pwr)
?pwr.2p.test
?pwr.2t.test
?pwr.t.test
?pwr.t2n.test
load("P:/PartTimers/MarkEngeln/PHAB-metrics/Data/fullSMCFieldHabitat.rdata")
viewData(full)
tapply(data.agg$BAResult, data.agg$SAFIT2, sum)
tapply(data.sub$BAResult, data.sub$SampleID, sum)
tapply(data.sub$BAResult, data.sub$SAFIT2, sum)
viewData(data.sub)
data.sub <- data.agg[data.agg$SampleID == "105WE0583 01/Aug/2001 BMI_CSBP_Trans 1 6903",]
tapply(data.sub$BAResult, data.sub$SAFIT2, sum)
str(data.sub)
tapply(data.sub$BAResult, droplevels(data.sub$SAFIT2), sum)
library(BMIMetrics)
###SAFIT1 QC
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
class(data.agg)
results <- BMIall(data.agg, effort=1)
###SAFIT1 QC
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
results <- BMIall(data.agg, effort=1)
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
names(data.agg[[1]])
str(data.agg[[1]])
str(data.agg)
rm(aggregate.BMI)
library(BMIMetrics)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
library(BMIMetrics)
###SAFIT1 QC
data <- read.csv("C:/Documents and Settings/gisuser/Desktop/Benthic Taxonomy Results.csv")
data.fixed <- data
data.fixed$SampleID <- paste(data.fixed$StationCode, data.fixed$SampleDate, data.fixed$CollectionMethodCode, data.fixed$Replicate, data.fixed$LabSampleID)
data.fixed$FinalID <- as.character(data.fixed$FinalID)
data.fixed$FinalID[data.fixed$FinalID == "Drunella doddsi"] <- "Drunella doddsii"
s <- proc.time()
data.BMI <- BMI(data.fixed)
data.agg <- aggregate(data.BMI)
results <- BMIall(data.agg, effort=1)
print(proc.time()-s)
safit1valid <- read.csv("C:/Documents and Settings/gisuser/Desktop/safit 1 qc for 2001 EMAP/Metrics By Location.csv")
safit1valid <- rename(safit1valid, c("Distinct" = "DistinctCode"))
results <- merge(results, unique(data.BMI[, c("SampleID", "LabSampleID")]))
validation <- merge(results, safit1valid)
cor(validation$Simpsons.Index, validation$Simpson_Diversity)^2
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
cor(validation$Taxonomic.Richness, validation$Taxonomic_Richness)^2
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
cor(validation$Shannon_Diversity, validation$Shannon.Diversity)^2
cor(validation$Percent.Trichoptera.Taxa, validation$Trichoptera_PercentTaxa)^2
validation$Trichoptera_PercentTaxa
Percent.Trichoptera.Taxa
validation$Percent.Trichoptera.Taxa
install.packages("gputools", type="source")
